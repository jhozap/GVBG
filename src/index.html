<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Ionic App</title>

    <base href="/" />

    <meta
      name="viewport"
      content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />

    <script src="https://code.jquery.com/jquery-latest.min.js"></script>
    <script src="https://cdn.jsdelivr.net/mark.js/8.6.0/jquery.mark.min.js"></script>

    <link rel="icon" type="image/png" href="assets/icon/favicon.png" />

    <!-- add to homescreen for ios -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  </head>

  <body>
    <app-root></app-root>

    <script type="text/javascript">
      $(function() {
        var mark = function() {
          // Read the keyword
          var keyword = $("input[name='keyword']").val();

          // Determine selected options
          var options = {};
          $("input[name='opt[]']").each(function() {
            options[$(this).val()] = $(this).is(":checked");
          });

          // Remove previous marked elements and mark
          // the new keyword inside the context
          $(".context").unmark({
            done: function() {
              $(".context").mark(keyword, options);
            }
          });
        };

        $("input[name='keyword']").on("input", mark);
        $("input[type='checkbox']").on("change", mark);
      });
    </script>
  </body>
</html>
